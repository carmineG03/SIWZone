<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Area Privata SIWZone</title>
	<link href="/css/headerFooter.css" rel="stylesheet" type="text/css">
	<link href="/css/stileIndex.css" rel="stylesheet" type="text/css">
	
	<style>
		/* Stili per l'autocomplete */
		#searchInput {
			border: 2px solid #e0e0e0;
			border-radius: 25px;
			padding: 8px 16px;
			font-size: 14px;
			transition: all 0.3s ease;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		}
		
		#searchInput:focus {
			border-color: #007bff;
			box-shadow: 0 4px 12px rgba(0,123,255,0.2);
			outline: none;
		}
		
		/* Stili per le opzioni del datalist */
		#prodotti-datalist option {
			background: white;
			color: #333;
			padding: 8px 12px;
			font-size: 14px;
			border-bottom: 1px solid #f0f0f0;
		}
		
		/* Hover effect per le opzioni */
		#prodotti-datalist option:hover {
			background-color: #f8f9fa;
			color: #007bff;
		}
		
		/* Container per migliorare il dropdown */
		.search-bar {
			position: relative;
		}
		
		/* Icona di ricerca */
		.search-bar button {
			border-radius: 20px;
			background: linear-gradient(135deg, #007bff, #0056b3);
			border: none;
			color: white;
			padding: 8px 16px;
			margin-left: 8px;
			cursor: pointer;
			transition: all 0.3s ease;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		}
		
		.search-bar button:hover {
			background: linear-gradient(135deg, #0056b3, #004085);
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
			transform: translateY(-1px);
		}
		
		/* Stili responsive per mobile */
		@media (max-width: 768px) {
			#searchInput {
				padding: 6px 12px;
				font-size: 13px;
			}
			
			.search-bar button {
				padding: 6px 12px;
				font-size: 13px;
			}
		}
	</style>
</head>

<body>
	<!--il div che segue Ã¨ per la barra di navigazione in alto-->
	<div class="navbar" id="navbar">
		<div class="nav-links">
			<a href="/">Home</a>
			<a href="/showAllProdotti">Prodotti</a>
		</div>

		<!--barra di ricerca-->
		<div class="search-bar">
			<form th:action="@{/ricercaHome}" method="post">
				<input type="text" 
				       id="searchInput"
				       name="keyword" 
				       th:value="${keyword}" 
				       placeholder="Cerca Prodotti..." 
				       list="prodotti-datalist"
				       autocomplete="off">
				<datalist id="prodotti-datalist">
					<option th:each="nome : ${nomiProdotti}" th:value="${nome}"></option>
				</datalist>
				<button type="submit">Cerca</button>
			</form>
		</div>

		<div th:if="${userDetails}" class="auth-links">
			<span th:text="${userDetails.username}"></span>
			<a href="/logout">Logout</a>
		</div>
		<div th:unless="${userDetails}" class="auth-links">
			<a href="/login">Login</a>
			<a href="/register">Registrazione</a>
		</div>

		<span class="menu-icon" onclick="toggleMenu()">&#9776;</span>
	</div>

	<!--div principale, rappresenta la prima cosa che vede l'utente quando entra-->
	<div class="hero">
		<h1>Benvenuti nella tua Area Riservata</h1>
		<br><br><br>
		<a href="/" class="cta-button">Torna alla Home</a>
		<br>
		<a href="/admin/newProdotto" class="cta-button">Aggiungi Prodotti</a>
		<br>
		<a href="/admin/prodotti" class="cta-button">Visualizza Prodotti</a>
	</div>

	<!-- CONTENITORE SEZIONI IN LINEA -->
	<div class="info-sections"
		style="display:flex; flex-wrap:wrap; justify-content:center; gap:40px; padding:50px 20px; background:#fff;">

		<!-- SEZIONE ADMIN TOOLS -->
		<div class="categories" style="flex:1 1 300px; max-width:400px;">
			<h2>Strumenti Admin</h2>
			<hr>
			<ul class="no-bullets" style="margin-top:20px;">
				<li><a href="/admin/prodotti">Gestisci Prodotti</a></li>
				<li><a href="/admin/newProdotto">Aggiungi Prodotto</a></li>
			</ul>
		</div>

		<!-- SEZIONE CONTATTI -->
		<div class="contact" style="flex:1 1 300px; max-width:400px;">
			<h2>Contattaci</h2>
			<hr>
			<div class="contact-info" style="margin-top:20px; line-height:1.6; text-align:left;">
				<p><strong>Email:</strong> info@siwzone.it</p>
				<p><strong>Telefono:</strong> +39 06 1234 5678</p>
				<p><strong>Indirizzo:</strong> Via Roma 100, Nettuno (RM)</p>
			</div>
		
		</div>
	</div>

	<!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>SIWZone</h3>
                <p>Area Amministratori.</p>
            </div>
            <div class="footer-section">
                <h3>Link Utili</h3>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/admin/prodotti">Gestisci Prodotti</a></li>
                    <li><a href="/admin/success">Area Riservata</a></li>
                    <li><a href="/logout">Logout</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 SIWZone. Tutti i diritti riservati.</p>
        </div>
    </footer>

	<!--praticamente quando lo schermo diventa troppo piccolo questo script fa diminuire in automatico la navbar-->
	<script>
		function toggleMenu() {
			var navbar = document.getElementById('navbar');
			navbar.classList.toggle('responsive');
		}
	</script>

	<script th:inline="javascript">
		const nomi = /*[[${nomiProdotti}]]*/ [];
		const input = document.getElementById('searchInput');
		const datalist = document.getElementById('prodotti-datalist');
		
		input.addEventListener('keyup', function(e) {
			const query = this.value.toLowerCase().trim();
			datalist.innerHTML = '';
			
			if (query) {
				nomi.filter(nome => nome.toLowerCase().startsWith(query))
					.forEach(nome => {
						datalist.innerHTML += `<option value="${nome}">`;
					});
				
				if (e.key !== 'Enter') {
					this.click();
				}
			}
		});
	</script>
</body>

</html>